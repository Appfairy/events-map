{"version":3,"sources":["webpack:///events_map.min.js","webpack:///webpack/bootstrap d749829063bf1a4b6b8f","webpack:///./src/index.js","webpack:///./src/consts.js","webpack:///./src/events_map.js","webpack:///./src/polyfills.js","webpack:///./src/utils.js","webpack:///(webpack)/buildin/global.js"],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","_events_map","global","_typeof","Symbol","iterator","constructor","isNode","isBrowser","window","_classCallCheck","instance","Constructor","TypeError","_extends","assign","target","arguments","length","source","key","_createClass","defineProperties","props","descriptor","writable","protoProps","staticProps","_consts","_polyfills","_utils","internals","EventsMap","options","undefined","this","isObject","_context$rootNode$opt","context","rootNode","document","isEventTarget","captureHandlers","Map","bubbleHandlers","handler","priority","useCapture","isString","isFunction","isNumber","isBoolean","_internals","handlers","handlersMap","set","boundHandlers","boundHandler","e","handlingQueues","executor","keys","sort","forEach","queueIndex","setImmediate","removeEventListener","type","addEventListener","handlingQueue","push","on","oneTimeHandler","eventsMap","off","_this","_len","args","Array","_key","pop","from","delete","size","emit","trigger","Event","CustomEvent","bubbles","detail","dispatchEvent","Function","fn","Promise","resolve","then","_Symbol","v","Number","Boolean","String","g","eval"],"mappings":"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","file":"events_map.min.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _events_map = __webpack_require__(2);\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_events_map).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar isNode = exports.isNode = (typeof global === 'undefined' ? 'undefined' : _typeof(global)) == 'object';\nvar isBrowser = exports.isBrowser = (typeof window === 'undefined' ? 'undefined' : _typeof(window)) == 'object';\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _consts = __webpack_require__(1);\n\nvar _polyfills = __webpack_require__(3);\n\nvar _utils = __webpack_require__(4);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar internals = (0, _polyfills.Symbol)('__events_map__');\n\nvar EventsMap = function () {\n  function EventsMap() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, EventsMap);\n\n    if (!(0, _utils.isObject)(options)) {\n      throw TypeError('options must be an object');\n    }\n\n    var _context$rootNode$opt = _extends({\n      context: _polyfills.global,\n      rootNode: _polyfills.document\n    }, options),\n        context = _context$rootNode$opt.context,\n        rootNode = _context$rootNode$opt.rootNode;\n\n    if (!(0, _utils.isObject)(context)) {\n      throw TypeError('options.context must be an object');\n    }\n\n    if (rootNode != null && !(0, _utils.isEventTarget)(rootNode)) {\n      throw TypeError('options.rootNode must be an event target');\n    }\n\n    this[internals] = {\n      context: context,\n      rootNode: rootNode,\n      captureHandlers: new Map(),\n      bubbleHandlers: new Map()\n    };\n  }\n\n  _createClass(EventsMap, [{\n    key: 'on',\n    value: function on(target, name, handler) {\n      var priority = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      var useCapture = void 0;\n\n      if (!(0, _utils.isEventTarget)(target)) {\n        throw TypeError('Argument 1 must be an event target');\n      }\n\n      if (!(0, _utils.isString)(name)) {\n        throw TypeError('Argument 2 must be a string');\n      }\n\n      if (!(0, _utils.isFunction)(handler)) {\n        throw TypeError('Argument 3 must be a function');\n      }\n\n      if ((0, _utils.isNumber)(priority)) {\n        if (priority <= 0) {\n          throw TypeError('Priority must be 0 or greater');\n        }\n\n        useCapture = false;\n      } else if ((0, _utils.isBoolean)(priority)) {\n        useCapture = priority;\n        priority = null;\n      } else {\n        throw TypeError('Argument 4 must be a number or a boolean');\n      }\n\n      var _internals = this[internals],\n          context = _internals.context,\n          rootNode = _internals.rootNode;\n\n\n      var handlers = useCapture ? this[internals].captureHandlers : this[internals].bubbleHandlers;\n\n      var handlersMap = handlers.get(target);\n\n      if (!handlersMap) {\n        handlersMap = new Map();\n        handlers.set(target, handlersMap);\n      }\n\n      var boundHandlers = handlersMap.get(name);\n\n      if (!boundHandlers) {\n        boundHandlers = new Map();\n        handlersMap.set(name, boundHandlers);\n      }\n\n      var boundHandler = function boundHandler(e) {\n        if (!rootNode || !(0, _utils.isNumber)(priority)) {\n          return handler.call(context, e);\n        }\n\n        var handlingQueues = void 0;\n\n        if (rootNode[internals]) {\n          handlingQueues = rootNode[internals].handlingQueues;\n        } else {\n          handlingQueues = {};\n          rootNode[internals] = { handlingQueues: handlingQueues };\n\n          var executor = function executor() {\n            Object.keys(handlingQueues).sort().forEach(function (queueIndex) {\n              var handlingQueue = handlingQueues[queueIndex];\n\n              handlingQueue.forEach(function (handler) {\n                handler.call(context, e);\n              });\n            });\n          };\n\n          rootNode[internals].executor = executor;\n\n          (0, _polyfills.setImmediate)(function () {\n            delete rootNode[internals];\n\n            rootNode.removeEventListener(e.type, executor);\n          });\n\n          rootNode.addEventListener(e.type, executor);\n        }\n\n        var handlingQueue = handlingQueues[priority];\n\n        if (!handlingQueue) {\n          handlingQueue = [];\n          handlingQueues[priority] = handlingQueue;\n        }\n\n        handlingQueue.push(handler);\n      };\n\n      boundHandlers.set(handler, boundHandler);\n\n      var on = target.addEventListener || target.on;\n\n      on.call(target, name, boundHandler, useCapture);\n\n      // Push the executor to the top of the execution queue\n      if (target === rootNode && rootNode[internals]) {\n        rootNode.removeEventListener(name, rootNode[internals].executor);\n        rootNode.addEventListener(name, rootNode[internals].executor);\n      }\n\n      return this;\n    }\n  }, {\n    key: 'once',\n    value: function once(target, name, handler, priority) {\n      if (!(0, _utils.isFunction)(handler)) {\n        throw TypeError('Argument 3 must be a function');\n      }\n\n      var eventsMap = this;\n\n      function oneTimeHandler(e) {\n        eventsMap.off(target, name, oneTimeHandler);\n\n        return handler.call(this, e);\n      }\n\n      this.on(target, name, oneTimeHandler, priority);\n\n      var handlers = this[internals].handlers;\n\n\n      handlers.get(target).get(name).set(handler, oneTimeHandler);\n\n      return this;\n    }\n  }, {\n    key: 'off',\n    value: function off() {\n      var _this = this;\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var useCapture = (0, _utils.isBoolean)(args[args.length - 1]) ? args.pop() : false;\n      var target = args[0],\n          name = args[1],\n          handler = args[2];\n\n\n      if (target != null && !(0, _utils.isEventTarget)(target)) {\n        throw TypeError('Argument 1 must be an event target');\n      }\n\n      if (name != null && !(0, _utils.isString)(name)) {\n        throw TypeError('Argument 2 must be a string');\n      }\n\n      if (handler != null && !(0, _utils.isFunction)(handler)) {\n        throw TypeError('Argument 3 must be a function');\n      }\n\n      var handlers = useCapture ? this[internals].captureHandlers : this[internals].bubbleHandlers;\n\n      if (!target) {\n        Array.from(handlers.keys()).forEach(function (target) {\n          _this.off(target, name, handler, useCapture);\n        });\n\n        return this;\n      }\n\n      var handlersMap = handlers.get(target);\n\n      if (!name) {\n        Array.from(handlersMap.keys()).forEach(function (name) {\n          _this.off(target, name, handler, useCapture);\n        });\n\n        return this;\n      }\n\n      var boundHandlers = handlersMap.get(name);\n\n      if (!handler) {\n        Array.from(boundHandlers.keys()).forEach(function (handler) {\n          _this.off(target, name, handler, useCapture);\n        });\n\n        return this;\n      }\n\n      var boundHandler = boundHandlers.get(handler);\n      var off = target.off || target.removeEventListener;\n\n      off.call(target, name, boundHandler, useCapture);\n\n      boundHandlers.delete(handler);\n\n      if (!boundHandlers.size) {\n        handlersMap.delete(name);\n      }\n\n      if (!handlersMap.size) {\n        handlers.delete(target);\n      }\n\n      return this;\n    }\n  }, {\n    key: 'emit',\n    value: function emit(target, name, args) {\n      if (!(0, _utils.isEventTarget)(target)) {\n        throw TypeError('Argument 1 must be an event target');\n      }\n\n      var emit = target.emit || target.trigger;\n\n      if (emit) {\n        if (!(0, _utils.isString)(name)) {\n          throw TypeError('Argument 2 must be a string');\n        }\n\n        if (!(0, _utils.isObject)(args)) {\n          throw TypeError('Argument 3 must be an object');\n        }\n\n        emit.call(target, name, args);\n      } else if (_consts.isBrowser) {\n        if ((0, _utils.isString)(name) && !(args instanceof Event)) {\n          args = new CustomEvent(name, {\n            bubbles: true,\n            detail: args\n          });\n        } else {\n          args = name;\n        }\n\n        if (!(args instanceof Event)) {\n          throw TypeError('Argument 2 must be an event');\n        }\n\n        target.dispatchEvent(args);\n      } else {\n        throw TypeError('dispatchEvent() is only supported in browser');\n      }\n\n      return this;\n    }\n  }]);\n\n  return EventsMap;\n}();\n\nexports.default = EventsMap;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar global = exports.global = new Function('return this')();\nvar document = exports.document = global.document;\n\nvar setImmediate = exports.setImmediate = typeof global.setImmediate == 'function' ? global.setImmediate : function (fn) {\n  return Promise.resolve().then(fn);\n};\n\nvar _Symbol = typeof global.Symbol == 'function' ? global.Symbol : function (name) {\n  return name;\n};\nexports.Symbol = _Symbol;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.isEventTarget = isEventTarget;\nexports.isNumber = isNumber;\nexports.isBoolean = isBoolean;\nexports.isString = isString;\nexports.isObject = isObject;\nexports.isFunction = isFunction;\nfunction isEventTarget(target) {\n  if (!isObject(target)) {\n    return false;\n  }\n\n  if (!isFunction(target.addEventListener) && !isFunction(target.on)) {\n    return false;\n  }\n\n  if (!isFunction(target.removeEventListener) && !isFunction(target.off)) {\n    return false;\n  }\n\n  if (!isFunction(target.dispatchEvent) && !isFunction(target.trigger) && !isFunction(target.emit)) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction isNumber(v) {\n  return typeof v == 'number' || v instanceof Number;\n}\n\nfunction isBoolean(v) {\n  return typeof v == 'boolean' || v instanceof Boolean;\n}\n\nfunction isString(v) {\n  return typeof v == 'string' || v instanceof String;\n}\n\nfunction isObject(v) {\n  return (typeof v === 'undefined' ? 'undefined' : _typeof(v)) == 'object' || v instanceof Object;\n}\n\nfunction isFunction(v) {\n  return typeof v == 'function';\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(0);\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// events_map.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d749829063bf1a4b6b8f","export { default } from './events_map'\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export const isNode = typeof global == 'object'\nexport const isBrowser = typeof window == 'object'\n\n\n\n// WEBPACK FOOTER //\n// ./src/consts.js","import { isBrowser } from './consts'\n\nimport {\n  global,\n  document,\n  setImmediate,\n  Symbol\n} from './polyfills'\n\nimport {\n  isEventTarget,\n  isNumber,\n  isBoolean,\n  isString,\n  isObject,\n  isFunction\n} from './utils'\n\nconst internals = Symbol('__events_map__')\n\nclass EventsMap {\n  constructor(options = {}) {\n    if (!isObject(options)) {\n      throw TypeError('options must be an object')\n    }\n\n    const { context, rootNode } = {\n      context: global,\n      rootNode: document,\n      ...options\n    }\n\n    if (!isObject(context)) {\n      throw TypeError('options.context must be an object')\n    }\n\n    if (rootNode != null && !isEventTarget(rootNode)) {\n      throw TypeError('options.rootNode must be an event target')\n    }\n\n    this[internals] = {\n      context,\n      rootNode,\n      captureHandlers: new Map(),\n      bubbleHandlers: new Map()\n    }\n  }\n\n  on(target, name, handler, priority = false) {\n    let useCapture\n\n    if (!isEventTarget(target)) {\n      throw TypeError('Argument 1 must be an event target')\n    }\n\n    if (!isString(name)) {\n      throw TypeError('Argument 2 must be a string')\n    }\n\n    if (!isFunction(handler)) {\n      throw TypeError('Argument 3 must be a function')\n    }\n\n    if (isNumber(priority)) {\n      if (priority <= 0) {\n        throw TypeError('Priority must be 0 or greater')\n      }\n\n      useCapture = false\n    }\n    else if (isBoolean(priority)) {\n      useCapture = priority\n      priority = null\n    }\n    else {\n      throw TypeError('Argument 4 must be a number or a boolean')\n    }\n\n    const { context, rootNode } = this[internals]\n\n    const handlers = useCapture\n      ? this[internals].captureHandlers\n      : this[internals].bubbleHandlers\n\n    let handlersMap = handlers.get(target)\n\n    if (!handlersMap) {\n      handlersMap = new Map()\n      handlers.set(target, handlersMap)\n    }\n\n    let boundHandlers = handlersMap.get(name)\n\n    if (!boundHandlers) {\n      boundHandlers = new Map()\n      handlersMap.set(name, boundHandlers)\n    }\n\n    const boundHandler = (e) => {\n      if (!rootNode || !isNumber(priority)) {\n        return handler.call(context, e)\n      }\n\n      let handlingQueues\n\n      if (rootNode[internals]) {\n        handlingQueues = rootNode[internals].handlingQueues\n      }\n      else {\n        handlingQueues = {}\n        rootNode[internals] = { handlingQueues }\n\n        const executor = () => {\n          Object.keys(handlingQueues).sort().forEach((queueIndex) => {\n            const handlingQueue = handlingQueues[queueIndex]\n\n            handlingQueue.forEach((handler) => {\n              handler.call(context, e)\n            })\n          })\n        }\n\n        rootNode[internals].executor = executor\n\n        setImmediate(() => {\n          delete rootNode[internals]\n\n          rootNode.removeEventListener(e.type, executor)\n        })\n\n        rootNode.addEventListener(e.type, executor)\n      }\n\n      let handlingQueue = handlingQueues[priority]\n\n      if (!handlingQueue) {\n        handlingQueue = []\n        handlingQueues[priority] = handlingQueue\n      }\n\n      handlingQueue.push(handler)\n    }\n\n    boundHandlers.set(handler, boundHandler)\n\n    const on = target.addEventListener || target.on\n\n    on.call(target, name, boundHandler, useCapture)\n\n    // Push the executor to the top of the execution queue\n    if (target === rootNode && rootNode[internals]) {\n      rootNode.removeEventListener(name, rootNode[internals].executor)\n      rootNode.addEventListener(name, rootNode[internals].executor)\n    }\n\n    return this\n  }\n\n  once(target, name, handler, priority) {\n    if (!isFunction(handler)) {\n      throw TypeError('Argument 3 must be a function')\n    }\n\n    const eventsMap = this\n\n    function oneTimeHandler(e) {\n      eventsMap.off(target, name, oneTimeHandler)\n\n      return handler.call(this, e)\n    }\n\n    this.on(target, name, oneTimeHandler, priority)\n\n    const { handlers } = this[internals]\n\n    handlers.get(target).get(name).set(handler, oneTimeHandler)\n\n    return this\n  }\n\n  off(...args) {\n    const useCapture = isBoolean(args[args.length - 1]) ? args.pop() : false\n    const [target, name, handler] = args\n\n    if (target != null && !isEventTarget(target)) {\n      throw TypeError('Argument 1 must be an event target')\n    }\n\n    if (name != null && !isString(name)) {\n      throw TypeError('Argument 2 must be a string')\n    }\n\n    if (handler != null && !isFunction(handler)) {\n      throw TypeError('Argument 3 must be a function')\n    }\n\n    const handlers = useCapture\n      ? this[internals].captureHandlers\n      : this[internals].bubbleHandlers\n\n    if (!target) {\n      Array.from(handlers.keys()).forEach((target) => {\n        this.off(target, name, handler, useCapture)\n      })\n\n      return this\n    }\n\n    const handlersMap = handlers.get(target)\n\n    if (!name) {\n      Array.from(handlersMap.keys()).forEach((name) => {\n        this.off(target, name, handler, useCapture)\n      })\n\n      return this\n    }\n\n    const boundHandlers = handlersMap.get(name)\n\n    if (!handler) {\n      Array.from(boundHandlers.keys()).forEach((handler) => {\n        this.off(target, name, handler, useCapture)\n      })\n\n      return this\n    }\n\n    const boundHandler = boundHandlers.get(handler)\n    const off = target.off || target.removeEventListener\n\n    off.call(target, name, boundHandler, useCapture)\n\n    boundHandlers.delete(handler)\n\n    if (!boundHandlers.size) {\n      handlersMap.delete(name)\n    }\n\n    if (!handlersMap.size) {\n      handlers.delete(target)\n    }\n\n    return this\n  }\n\n  emit(target, name, args) {\n    if (!isEventTarget(target)) {\n      throw TypeError('Argument 1 must be an event target')\n    }\n\n    const emit = target.emit || target.trigger\n\n    if (emit) {\n      if (!isString(name)) {\n        throw TypeError('Argument 2 must be a string')\n      }\n\n      if (!isObject(args)) {\n        throw TypeError('Argument 3 must be an object')\n      }\n\n      emit.call(target, name, args)\n    }\n    else if (isBrowser) {\n      if (isString(name) && !(args instanceof Event)) {\n        args = new CustomEvent(name, {\n          bubbles: true,\n          detail: args\n        })\n      }\n      else {\n        args = name\n      }\n\n      if (!(args instanceof Event)) {\n        throw TypeError('Argument 2 must be an event')\n      }\n\n      target.dispatchEvent(args)\n    }\n    else {\n      throw TypeError('dispatchEvent() is only supported in browser')\n    }\n\n    return this\n  }\n}\n\nexport default EventsMap\n\n\n\n// WEBPACK FOOTER //\n// ./src/events_map.js","export const global = new Function('return this')()\nexport const document = global.document\n\nexport const setImmediate = typeof global.setImmediate == 'function'\n  ? global.setImmediate\n  : fn => Promise.resolve().then(fn)\n\nexport const Symbol = typeof global.Symbol == 'function'\n  ? global.Symbol\n  : name => name\n\n\n\n// WEBPACK FOOTER //\n// ./src/polyfills.js","export function isEventTarget(target) {\n  if (!isObject(target)) {\n    return false\n  }\n\n  if (\n    !isFunction(target.addEventListener) &&\n    !isFunction(target.on)\n  ) {\n    return false\n  }\n\n  if (\n    !isFunction(target.removeEventListener) &&\n    !isFunction(target.off)\n  ) {\n    return false\n  }\n\n  if (\n    !isFunction(target.dispatchEvent) &&\n    !isFunction(target.trigger) &&\n    !isFunction(target.emit)\n  ) {\n    return false\n  }\n\n  return true\n}\n\nexport function isNumber(v) {\n  return typeof v == 'number' || v instanceof Number\n}\n\nexport function isBoolean(v) {\n  return typeof v == 'boolean' || v instanceof Boolean\n}\n\nexport function isString(v) {\n  return typeof v == 'string' || v instanceof String\n}\n\nexport function isObject(v) {\n  return typeof v == 'object' || v instanceof Object\n}\n\nexport function isFunction(v) {\n  return typeof v == 'function'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}